<!DOCTYPE html>
<html>
<head runat="server">
	<title>Integrity input</title>
	<script type='text/javascript' src='http://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js'></script>
	<script type='text/javascript' src='https://github.com/downloads/SteveSanderson/knockout/knockout-2.1.0.js'></script>
	<script type='text/javascript' src='https://github.com/SteveSanderson/knockout.mapping/tree/master/build/output'></script>
	<link href="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8/themes/base/jquery-ui.css" rel="stylesheet" type="text/css" />
	<script src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8/jquery-ui.min.js"></script>
	
	<script type="text/javascript">
		var viewModel
		function getData(url) {
			ajaxWrapper(url, null, "GET");
		}

		function postData(url, data) {
			ajaxWrapper(url, data, "POST");
		}

		function ajaxWrapper(url, data, type, callback) {
			$.ajax({
				type: type,
				url: url,
				data: "{jsonObj : '" + data + "'}",
				dataType: "json",
				contentType: "application/json; charset=utf-8",
				dataFilter: function (data) {
					return filterData(data);
				},
				success: function (json) {
					if (!callback) callback = whatToDo;
					callback(json)
				},
				error: function (res, status) {
					errorHandling(res, status);
				}
			});
		}
			
		function filterData(data) {
			var response;

			if (typeof (JSON) !== "undefined" && typeof (JSON.parse) === "function")
				response = $.parseJSON(data);
			else
				response = eval("(" + data + ")");

			if (response.hasOwnProperty("d"))
				return response.d;
			else
				return response;
		}

		function errorHandling(res, status) {
			if (status === "error") {
				// errorMessage can be an object with 3 string properties: ExceptionType, Message and StackTrace
				var errorMessage = $.parseJSON(res.responseText);
				alert(errorMessage.Message);
			}
			if (status === "systemException") alert(res);
		}




		function whatToDo(json) {
			//viewModel = json;
		}


	</script>

	<script type="text/javascript">
		$(function () {
		//	getData("WebService.asmx/getStaticJSON");
		});

	</script>

</head>
<body>
	<form id="form1" runat="server">
	

 <div id="timeline-embed"></div>
    <script type="text/javascript">
    	var timeline_config = {
    		width: "100%",
    		height: "100%",
    		source: 'data.json',
    		start_at_end: false,                          //OPTIONAL
    		hash_bookmark: true,                           //OPTIONAL
    		font: 'Bevan-PotanoSans',             //OPTIONAL
    		maptype: 'watercolor',                   //OPTIONAL
    		css: 'timeline.css' //OPTIONAL
    	}
    </script>
		<script type="text/javascript" src="http://veritetimeline.appspot.com/latest/timeline-embed.js"></script>



	</form>
</body>
</html>

									